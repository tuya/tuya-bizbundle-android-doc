
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>IPC Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../scene.html" />
    
    
    <link rel="prev" href="../panel/panel_device.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../prepare.html">
            
                <a href="../prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../access.html">
            
                <a href="../access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../biznav.html">
            
                <a href="../biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../mall/mall.html">
            
                <a href="../mall/mall.html">
            
                    
                    Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../activator/activator_device.html">
            
                <a href="../activator/activator_device.html">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../panel/panel_device.html">
            
                <a href="../panel/panel_device.html">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.4" data-path="camera_panel.html">
            
                <a href="camera_panel.html">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../scene.html">
            
                <a href="../scene.html">
            
                    
                    Scene 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../camera_cloud_video_service.html">
            
                <a href="../camera_cloud_video_service.html">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../faq/faq.html">
            
                <a href="../faq/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../message/messagecenter.html">
            
                <a href="../message/messagecenter.html">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../biz_faq.html">
            
                <a href="../biz_faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../updates.html">
            
                <a href="../updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../3.17/">
            
                <a href="../../3.17/">
            
                    
                    3.17
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../3.17/prepare.html">
            
                <a href="../../3.17/prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../3.17/access.html">
            
                <a href="../../3.17/access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../3.17/biznav.html">
            
                <a href="../../3.17/biznav.html">
            
                    
                    BizBundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="../../3.17/mall/">
            
                <a href="../../3.17/mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="../../3.17/activator/activator_device.html">
            
                <a href="../../3.17/activator/activator_device.html">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="../../3.17/panel/panel_device.html">
            
                <a href="../../3.17/panel/panel_device.html">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="../../3.17/ipc/camera_panel.html">
            
                <a href="../../3.17/ipc/camera_panel.html">
            
                    
                    IPC Device BizBundle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.5" data-path="../../3.17/scene.html">
            
                <a href="../../3.17/scene.html">
            
                    
                    Scene BizBundle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.6" data-path="../../3.17/faq/faq.html">
            
                <a href="../../3.17/faq/faq.html">
            
                    
                    FAQ BizBundle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.7" data-path="../../3.17/message/messagecenter.html">
            
                <a href="../../3.17/message/messagecenter.html">
            
                    
                    Message Center BizBundle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../../3.17/faq.html">
            
                <a href="../../3.17/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../../3.17/updates.html">
            
                <a href="../../3.17/updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >IPC</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div style="font-size: 20px; display:flex;justify-content: center;color: red;">This document is deprecated, please go to Tuya Developer Documentation Center to view the latest version: <a href="https://developer.tuya.com/en/docs/app-development/">Tuya Smart Doc</a></div>
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#ipc-device-bizbundle"><b>1. </b>IPC Device bizBundle</a></li><ul><li><span class="title-icon "></span><a href="#features"><b>1.1. </b>Features</a></li><ul><li><span class="title-icon "></span><a href="#integrated-sdk"><b>1.1.1. </b>Integrated SDK</a></li></ul><li><span class="title-icon "></span><a href="#function"><b>1.2. </b>Function</a></li><ul><li><span class="title-icon "></span><a href="#native-preview-panel"><b>1.2.1. </b>Native Preview Panel</a></li><li><span class="title-icon "></span><a href="#rn-preview-panel"><b>1.2.2. </b>RN Preview Panel</a></li><li><span class="title-icon "></span><a href="#playback-panel"><b>1.2.3. </b>Playback Panel</a></li><li><span class="title-icon "></span><a href="#cloud-storage-panel"><b>1.2.4. </b>Cloud Storage Panel</a></li><li><span class="title-icon "></span><a href="#message-center-panel"><b>1.2.5. </b>Message-Center Panel</a></li><li><span class="title-icon "></span><a href="#album-panel"><b>1.2.6. </b>Album Panel</a></li><li><span class="title-icon "></span><a href="#doorbell-panel"><b>1.2.7. </b>Doorbell Panel</a></li><li><span class="title-icon "></span><a href="#video-doorbell-panel"><b>1.2.8. </b>Video Doorbell Panel</a></li><li><span class="title-icon "></span><a href="#set-panel"><b>1.2.9. </b>Set Panel</a></li><li><span class="title-icon "></span><a href="#theme-style"><b>1.2.10. </b>Theme Style</a></li><li><span class="title-icon "></span><a href="#panelsdk-customization"><b>1.2.11. </b>PanelSDK customization</a></li><li><span class="title-icon "></span><a href="#routing-table"><b>1.2.12. </b>Routing table</a></li><li><span class="title-icon "></span><a href="#modify-device-information"><b>1.2.13. </b>Modify Device information</a></li><li><span class="title-icon "></span><a href="#tuya-message-push-assistant-protocol-43"><b>1.2.14. </b>Tuya Message Push Assistant Protocol 43</a></li><li><span class="title-icon "></span><a href="#multi-language-configuration-in-the-panel"><b>1.2.15. </b>Multi-language configuration in the panel</a></li></ul></ul></ul></div><a href="#ipc-device-bizbundle" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="ipc-device-bizbundle"><a name="ipc-device-bizbundle" class="anchor-navigation-ex-anchor" href="#ipc-device-bizbundle"><i class="fa fa-link" aria-hidden="true"></i></a>1. IPC Device bizBundle</h1>
<h2 id="features"><a name="features" class="anchor-navigation-ex-anchor" href="#features"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Features</h2>
<p>TuyaSmart Android IPC biz Bundle (referred to as: TuyaCameraPanelSDK ) is a series of panel SDKs related to camera functions developed based on <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/ipc/" target="_blank">Tuya Smart Camera SDK</a>. It mainly includes the following functions:</p>
<ul>
<li>Preview panel, playback panel, cloud storage panel, message center panel, album panel, settings panel.</li>
</ul>
<h3 id="integrated-sdk"><a name="integrated-sdk" class="anchor-navigation-ex-anchor" href="#integrated-sdk"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Integrated SDK</h3>
<ol>
<li><p><a href="../access.html">Access service package framework</a></p>
</li>
<li><p>Configure build.gradle in the module directory, add the dependencies:</p>
</li>
</ol>
<pre class="language-"><code class="lang-java">   dependencies <span class="token punctuation">{</span>
      implementation <span class="token string">&apos;com.tuya.smart:tuyasmart-bizbundle-camera:3.20.0-7&apos;</span>
   <span class="token punctuation">}</span>
</code></pre>
<h2 id="function"><a name="function" class="anchor-navigation-ex-anchor" href="#function"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Function</h2>
<p>TuyaCameraPanelSDK is an external public interface of Tuya Smart Camera Panel SDK, which includes jump and custom implementation of multiple panels.</p>
<p>Please refer to the demo procedure to configure a successful camera and perform operations related to the camera panel.</p>
<blockquote>
<p><a href="https://registry.code.tuya-inc.top/android-developer/tuyasmart-bizbundle-demo.git" target="_blank">TuyaSmartBizbundle Demo</a></p>
</blockquote>
<h3 id="native-preview-panel"><a name="native-preview-panel" class="anchor-navigation-ex-anchor" href="#native-preview-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Native Preview Panel</h3>
<p>Camera native preview panel, including real-time video preview, sharpness switch, sound switch control, screenshot, recording, intercom and other functions, motion detection, PTZ direction control, favorite point addition / deletion, cruise control, etc.</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_ panel_2</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">  <span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">&quot;camera_panel_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="rn-preview-panel"><a name="rn-preview-panel" class="anchor-navigation-ex-anchor" href="#rn-preview-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. RN Preview Panel</h3>
<p>Camera RN preview panel, packaged in TuyaPanelSDK, refer to <a href="panel_device.md">Device Control</a></p>
<p><strong>Declaration</strong></p>
<p>AbsPanelCallerService.goPanelWithCheckAndTip() to jump to the RN panel</p>
<pre class="language-"><code class="lang-java"> <span class="token class-name">AbsPanelCallerService</span> service <span class="token operator">=</span> <span class="token class-name">MicroContext</span><span class="token punctuation">.</span><span class="token function">getServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findServiceByInterface</span><span class="token punctuation">(</span><span class="token class-name">AbsPanelCallerService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 service<span class="token punctuation">.</span><span class="token function">goPanelWithCheckAndTip</span><span class="token punctuation">(</span><span class="token class-name">IPCPanelActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> bean<span class="token punctuation">.</span><span class="token function">getDevId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="playback-panel"><a name="playback-panel" class="anchor-navigation-ex-anchor" href="#playback-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Playback Panel</h3>
<p>The camera playback panel displays the video saved on the camera storage device, including video playback, playback date selection, video drag and play with time axis, play / pause, sound control, screenshot, recording and other functions</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_playback_panel</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">Device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token string">&quot;camera_playback_panel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="cloud-storage-panel"><a name="cloud-storage-panel" class="anchor-navigation-ex-anchor" href="#cloud-storage-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. Cloud Storage Panel</h3>
<p>The camera&apos;s cloud storage panel displays recorded cloud videos recorded after the cloud storage function is enabled. Including video cloud storage playback, cloud storage date selection, video drag and play with time axis, play / pause, sound control, screenshot, recording and other functions, and motion detection data list display.</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_cloud_panel</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">Device id</td>
</tr>
<tr>
<td style="text-align:left">timeRangeBean</td>
<td style="text-align:left">Cloud storage of a piece of data&apos;s position from the last day ,not necessary</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token string">&quot;camera_cloud_panel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="message-center-panel"><a name="message-center-panel" class="anchor-navigation-ex-anchor" href="#message-center-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.5. Message-Center Panel</h3>
<p>The camera message center panel includes all kinds of messages generated during the recording process of the camera. It is displayed by date and message type. The message category supports pictures, videos, and pure audio. It can be previewed and deleted.</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_message_panel</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token string">&quot;camera_message_panel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="album-panel"><a name="album-panel" class="anchor-navigation-ex-anchor" href="#album-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.6. Album Panel</h3>
<p>The camera album panel shows the files saved according to the device id. These files are local screenshots and recorded videos during the camera preview / playback / cloud video playback process. Can perform preview, single delete, delete all operations.</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_local_video_photo</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">Device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token string">&quot;camera_local_video_photo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="doorbell-panel"><a name="doorbell-panel" class="anchor-navigation-ex-anchor" href="#doorbell-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.7. Doorbell Panel</h3>
<p>The camera doorbell answer panel displays the doorbell message interface that is pushed over, including the basic information of the doorbell, real-time screenshot, answer, and hang up functions; it will enter the camera preview panel after the answer is successful</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_door_bell</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">devId</td>
<td style="text-align:left">device id&#xFF0C;It is usually extracted from the message pushed</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;devId&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span><span class="token class-name">MicroContext</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;camera_door_bell&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="video-doorbell-panel"><a name="video-doorbell-panel" class="anchor-navigation-ex-anchor" href="#video-doorbell-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.8. Video Doorbell Panel</h3>
<p>The camera video stream doorbell answer panel displays the real-time video stream doorbell message interface that is pushed over, including doorbell status information, answering, and hang-up functions; the doorbell answering timeliness, dwell time &lt; 25s, and real-time video call after successful answer.</p>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_action_doorbell</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">device id,it is usually extracted from the message pushed</td>
</tr>
<tr>
<td style="text-align:left">doorbell_start_time</td>
<td style="text-align:left">Long type, which indicates the start time of pressing the doorbell. The doorbell answering panel counts from the time of pressing, and the stay time is 25s (actually &lt; 25s)</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putLong</span><span class="token punctuation">(</span><span class="token string">&quot;doorbell_start_time&quot;</span><span class="token punctuation">,</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span><span class="token class-name">MicroContext</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string">&quot;camera_action_doorbell&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="set-panel"><a name="set-panel" class="anchor-navigation-ex-anchor" href="#set-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.9. Set Panel</h3>
<p>Camera settings panel, which can be configured and displayed through the background dp point&#xFF08;<a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/ipc/camera_device_points.html" target="_blank">Tuya Smart Camera SDK - Equipment function point</a>)&#xFF0C;include&#xFF1A;</p>
<ul>
<li>device name and icon</li>
<li>device information(owner,ip,device id, device time zone&#xFF0C;wifi signal)</li>
<li>base setting(Privacy switch, basic function settings, infrared night vision function, picture quality adjustment (brightness, contrast), working mode, etc.)</li>
<li>Advanced settings (detection alarm setting, PIR switch, power management setting, bell setting, siren adjustment, video layout, pre-point setting, etc.)</li>
<li>Storage settings (SD card capacity management, formatting, etc.)</li>
<li>Value-added services (cloud storage purchase, etc.)</li>
<li>Offline reminder</li>
<li>Other (Frequently Asked Questions)</li>
<li>reboot device</li>
<li>Remove device</li>
</ul>
<p><strong>Declaration</strong></p>
<p>The panel jumps through the route. The routing address is camera_panel_more</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">extra_camera_uuid</td>
<td style="text-align:left">device id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;extra_camera_uuid&quot;</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlBuilder</span> urlBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBuilder</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> panel<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">UrlRouter</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>urlBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>Note: if it is found that the configuration route cannot enter the settings page, please contact the corresponding project manager to confirm whether it is the new settings panel</p>
</blockquote>
<h3 id="theme-style"><a name="theme-style" class="anchor-navigation-ex-anchor" href="#theme-style"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.10. Theme Style</h3>
<p>Themes include two types: black and white, support the Playback Panel, Cloud Storage Panel, Settings Panel, Message-Center Panel and Local Album panel of Tuya Smart Camera</p>
<p><strong>Declaration</strong></p>
<p>Users can set the theme through CameraUIThemeUtils.setCurrentThemeId(@ThemeIDs int themeIDs) method</p>
<pre class="language-"><code class="lang-java">  <span class="token class-name">CameraUIThemeUtils</span><span class="token punctuation">.</span><span class="token function">setCurrentThemeId</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ThemeIDs</span> <span class="token keyword">int</span> themeIDs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">themeId</td>
<td style="text-align:left">ThemeIDs annotation&#xFF1A;BLACK_THEME_ID&#xFF1B; WHITE_THEME_ID</td>
</tr>
</tbody>
</table>
<p> <strong>Example</strong></p>
<pre class="language-"><code class="lang-java"> <span class="token class-name">CameraUIThemeUtils</span><span class="token punctuation">.</span><span class="token function">setCurrentThemeId</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span>BLACK_THEME_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>Called when the panel enters. The global influence is set. Preview panel is not supported</p>
</blockquote>
<h3 id="panelsdk-customization"><a name="panelsdk-customization" class="anchor-navigation-ex-anchor" href="#panelsdk-customization"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.11. PanelSDK customization</h3>
<p>TuyaSmartCameraPanelBizBundle supports user-defined configuration panel. If users implement the panel function by themselves, please refer to <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/ipc/" target="_blank">Tuya Smart Camera SDK</a></p>
<blockquote>
<p>The BizBundle has integrated with the SDK. When developing with reference to the SDK document, the version should be aligned with the BizBundle.</p>
</blockquote>
<p><strong>Implementation</strong></p>
<p>Enter the assets folder of the app and find the service configuration file module_ app.json , find the route address to be intercepted for deletion, and capture the deleted route for custom jump.</p>
<p><strong>Example</strong></p>
<p>customize the implementation settings page</p>
<ol>
<li><p>Find the set routing address &quot;camera<em> panel</em> more&quot; to delete.</p>
<p><img src="../../../images/tuya_smart_bizbundle_ipc_1.png" alt="&#x56FE;&#x7247;"></p>
</li>
<li><p>Refer to <a href="../access.html">Integration</a> , get the unfulfilled routing address and jump to the corresponding page</p>
</li>
</ol>
<pre class="language-"><code class="lang-java">    <span class="token class-name">TuyaWrapper</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">RouteEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFaild</span><span class="token punctuation">(</span><span class="token keyword">int</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">UrlBuilder</span> urlBuilder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token comment">// urlBuilder.originUrl</span>
               <span class="token class-name">ToastUtil</span><span class="token punctuation">.</span><span class="token function">shortToast</span><span class="token punctuation">(</span><span class="token class-name">TuyaPanelSDK</span><span class="token punctuation">.</span><span class="token function">getCurrentActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> urlBuilder<span class="token punctuation">.</span>originUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ServiceEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFaild</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;service not implement&quot;</span><span class="token punctuation">,</span> serviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="routing-table"><a name="routing-table" class="anchor-navigation-ex-anchor" href="#routing-table"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.12. Routing table</h3>
<table>
<thead>
<tr>
<th>Routing target</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>camera_panel_2</td>
<td>Native Preview Panel</td>
</tr>
<tr>
<td>camera_playback_panel</td>
<td>Playback Panel</td>
</tr>
<tr>
<td>camera_cloud_panel</td>
<td>Cloud Storage Panel</td>
</tr>
<tr>
<td>camera_message_panel</td>
<td>Message-Center Panel</td>
</tr>
<tr>
<td>camera_door_bell</td>
<td>Doorbell Panel</td>
</tr>
<tr>
<td>doorbell_camera_panel</td>
<td>Doorbell Preview Panel</td>
</tr>
<tr>
<td>doorbell_camera_playback_panel</td>
<td>Doorbell Playback Panel</td>
</tr>
<tr>
<td>camera_action_doorbell</td>
<td>Video Doorbell Panel</td>
</tr>
<tr>
<td>camera_panel_more</td>
<td>Set Panel</td>
</tr>
<tr>
<td>dev_base_info</td>
<td>Set - Modify Device Name</td>
</tr>
<tr>
<td>camera_panel_info</td>
<td>Set - DeviceInfo</td>
</tr>
<tr>
<td>helpCenter</td>
<td>Set - Feedback <a href="../faq/faq.html">feedback bizBundle</a></td>
</tr>
<tr>
<td>dev_share_edit</td>
<td>Set - Device Sharing</td>
</tr>
<tr>
<td>not_share_support_help</td>
<td>Set - Device Not Support Sharing</td>
</tr>
<tr>
<td>AbsCameraOTAService</td>
<td>Set  - Firmware Information, you need to implement the checkupgradefirmware method of this service</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Some functions on the settings panel need to be implemented by yourself.</p>
</blockquote>
<h3 id="modify-device-information"><a name="modify-device-information" class="anchor-navigation-ex-anchor" href="#modify-device-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.13. Modify Device information</h3>
<h4 id="modify-device-name"><a name="modify-device-name" class="anchor-navigation-ex-anchor" href="#modify-device-name"><i class="fa fa-link" aria-hidden="true"></i></a><a name="modify-device-name" class="plugin-anchor" href="#modify-device-name"><i class="fa fa-link" aria-hidden="true"></i></a>Modify device name</h4>
<p>  Developers can modify camera device name</p>
<p>  <strong>Declaration</strong></p>
<p>  Call renameDevice () under TuyaHomeSdk to modify the device name</p>
<pre class="language-"><code class="lang-java">  <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newDeviceInstance</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">renameDevice</span><span class="token punctuation">(</span><span class="token class-name">String</span> deviceName<span class="token punctuation">,</span> <span class="token class-name">IResultCallback</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  <strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">deviceId</td>
<td style="text-align:left">device id</td>
</tr>
<tr>
<td style="text-align:left">deviceName</td>
<td style="text-align:left">device renamed name</td>
</tr>
<tr>
<td style="text-align:left">callback</td>
<td style="text-align:left">IResultCallback interface&#xFF0C;device rename success / failure callback</td>
</tr>
</tbody>
</table>
<p>  <strong>Example</strong></p>
<pre class="language-"><code class="lang-java">  <span class="token comment">/**
   * @param context
   * @param deviceId      
   * @param deviceName   
   */</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">renameDevice</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> deviceId<span class="token punctuation">,</span> <span class="token class-name">String</span> deviceName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ITuyaDevice</span> mDevice <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">newDeviceInstance</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      mDevice<span class="token punctuation">.</span><span class="token function">renameDevice</span><span class="token punctuation">(</span>deviceName<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<h4 id="modify-device-icon"><a name="modify-device-icon" class="anchor-navigation-ex-anchor" href="#modify-device-icon"><i class="fa fa-link" aria-hidden="true"></i></a><a name="modify-device-icon" class="plugin-anchor" href="#modify-device-icon"><i class="fa fa-link" aria-hidden="true"></i></a>Modify device icon</h4>
<p>  Users can modify the camera icon by themselves.</p>
<p>  <strong>Declaration</strong></p>
<p>  Call modifyDeviceImg () under TuyaHomeSdk to modify the device icon</p>
<pre class="language-"><code class="lang-java">  <span class="token class-name">DeviceInfoRepository</span> deviceInfoRepository <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeviceInfoRepositoryImpl</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">ModifyDevInfoInteractor</span> mModifyDevInfoInteractor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModifyDevInfoInteractorImpl</span><span class="token punctuation">(</span>deviceInfoRepository<span class="token punctuation">)</span><span class="token punctuation">;</span>
  mModifyDevInfoInteractor<span class="token punctuation">.</span><span class="token function">modifyDeviceImg</span><span class="token punctuation">(</span> deviceId<span class="token punctuation">,</span>  deviceName<span class="token punctuation">,</span> imageFile<span class="token punctuation">,</span>  callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  <strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">deviceId</td>
<td style="text-align:left">device id</td>
</tr>
<tr>
<td style="text-align:left">imageFile</td>
<td style="text-align:left">File , Indicates the image file to be uploaded</td>
</tr>
<tr>
<td style="text-align:left">deviceName</td>
<td style="text-align:left">device name&#xFF0C;Available through DeviceBean in the TuyaHomeSdk</td>
</tr>
<tr>
<td style="text-align:left">callback</td>
<td style="text-align:left">ModifyDevInfoInteractor.ModifyDeviceImgCallback interface,uploaded image file success / failure callback</td>
</tr>
</tbody>
</table>
<p>  <strong>Example</strong></p>
<pre class="language-"><code class="lang-java">  <span class="token comment">/**
   * modify icon
   *
   * @param context
   * @param deviceId     
   * @param iconFilePath
   */</span> 
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">uploadIcon</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> deviceId<span class="token punctuation">,</span> <span class="token class-name">String</span> iconFilePath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">DeviceBean</span> deviceBean <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getDataInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceBean</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">String</span> panelName <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>deviceBean <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          panelName <span class="token operator">=</span> deviceBean<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token class-name">DeviceInfoRepository</span> deviceInfoRepository <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeviceInfoRepositoryImpl</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">ModifyDevInfoInteractor</span> mModifyDevInfoInteractor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModifyDevInfoInteractorImpl</span><span class="token punctuation">(</span>deviceInfoRepository<span class="token punctuation">)</span><span class="token punctuation">;</span>

      mModifyDevInfoInteractor<span class="token punctuation">.</span><span class="token function">modifyDeviceImg</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">,</span> panelName<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>iconFilePath<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">new</span> <span class="token class-name">ModifyDevInfoInteractor</span><span class="token punctuation">.</span><span class="token class-name">ModifyDeviceImgCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onModifyDeviceImgSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>


                  <span class="token punctuation">}</span>

                  <span class="token annotation punctuation">@Override</span>
                  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onModifyDeviceImgFailure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>


                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<h3 id="tuya-message-push-assistant-protocol-43"><a name="tuya-message-push-assistant-protocol-43" class="anchor-navigation-ex-anchor" href="#tuya-message-push-assistant-protocol-43"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.14. Tuya Message Push Assistant Protocol 43</h3>
<p>With the APP process alive, in order to improve the timeliness and success rate of push messages, Tuya Smart Camera has opened a message push assistant protocol.</p>
<ul>
<li>Users implement their own access to push channels, refer to <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/MessagePush.html" target="_blank">Tuya Smart Home SDK system push message</a></li>
<li>Register for Tuya push message monitoring, get the push message from the callback, and follow up</li>
</ul>
<p>Message body format definition example:</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
<span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;cc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;someone is ringing the bell.&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;ct&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fcm You have a visitor&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;devId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6cfaf335a8d6e752e0wrpy&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;msgId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4da4dcf61573555995&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token property">&quot;media&quot;</span><span class="token operator">:</span> <span class="token number">13</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;specialChannel&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1573555995000&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;doorbell&quot;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Register and logout listening</strong></p>
<p>Register after the account is successfully logged in, and log out when the account is logged out</p>
<p><strong>Declaration</strong></p>
<p>The Tuya push assistant protocol needs to register for monitoring after the account login is successful, and log out when the account is logged out.</p>
<p><strong>Declaration</strong></p>
<p>The Tuya push assistant protocol needs to register for monitoring after the account login is successful, and log out when the account is logged out.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">//register</span>
<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getCameraInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerCameraPushListener</span><span class="token punctuation">(</span><span class="token class-name">ITuyaGetBeanCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CameraPushDataBean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>

<span class="token comment">//logout</span>
<span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getCameraInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unRegisterCameraPushListener</span><span class="token punctuation">(</span><span class="token class-name">ITuyaGetBeanCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CameraPushDataBean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>&#xFF1B;
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">callback</td>
<td style="text-align:left">ITuyaGetBeanCallback interface, monitor callback push messages, CameraPushDataBean encapsulates push messages</td>
</tr>
</tbody>
</table>
<p><strong>CameraPushDataBean Data Model</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Field</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">devId</td>
<td style="text-align:left">String</td>
<td style="text-align:left">device id</td>
</tr>
<tr>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">timestamp of push message</td>
</tr>
<tr>
<td style="text-align:left">etype</td>
<td style="text-align:left">String</td>
<td style="text-align:left">message type</td>
</tr>
<tr>
<td style="text-align:left">edata</td>
<td style="text-align:left">String</td>
<td style="text-align:left">message id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">private</span> <span class="token class-name">ITuyaHomeCamera</span> homeCamera<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ITuyaGetBeanCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CameraPushDataBean</span><span class="token punctuation">&gt;</span></span> mTuyaGetBeanCallback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaGetBeanCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CameraPushDataBean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">CameraPushDataBean</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">L</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;onMqtt_43_Result on callback&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">L</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;timestamp=&quot;</span> <span class="token operator">+</span> o<span class="token punctuation">.</span><span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">L</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;devid=&quot;</span> <span class="token operator">+</span> o<span class="token punctuation">.</span><span class="token function">getDevId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">L</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;msgid=&quot;</span> <span class="token operator">+</span> o<span class="token punctuation">.</span><span class="token function">getEdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">L</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;msgtype=&quot;</span> <span class="token operator">+</span> o<span class="token punctuation">.</span><span class="token function">getEtype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Register listening after successful account login
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerCameraPushListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    homeCamera <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getCameraInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>homeCamera <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        homeCamera<span class="token punctuation">.</span><span class="token function">registerCameraPushListener</span><span class="token punctuation">(</span>mTuyaGetBeanCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Logout listening after account logout
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">unRegisterCameraPushListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>homeCamera <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        homeCamera<span class="token punctuation">.</span><span class="token function">unRegisterCameraPushListener</span><span class="token punctuation">(</span>mTuyaGetBeanCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p><strong>Note</strong>:</p>
<ol>
<li>When the app process is killed, the listener is invalid. After the app logs in successfully, register for monitoring; the app logs out and cancels the monitoring</li>
<li>To avoid repeated push messages (user own channel pushed, generated by Tuya assist protocol), you can filter by message id, message type, and message arrival time</li>
</ol>
</blockquote>
<h3 id="multi-language-configuration-in-the-panel"><a name="multi-language-configuration-in-the-panel" class="anchor-navigation-ex-anchor" href="#multi-language-configuration-in-the-panel"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.15. Multi-language configuration in the panel</h3>
<p><a href="../access.html">language</a> </p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../panel/panel_device.html" class="navigation navigation-prev " aria-label="Previous page: Device Control">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../scene.html" class="navigation navigation-next " aria-label="Next page: Scene ">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"IPC","level":"1.4.4","depth":2,"next":{"title":"Scene ","level":"1.4.5","depth":2,"path":"pages/scene.md","ref":"./pages/scene.md","articles":[]},"previous":{"title":"Device Control","level":"1.4.3","depth":2,"path":"pages/panel/panel_device.md","ref":"./pages/panel/panel_device.md","articles":[]},"dir":"ltr"},"config":{"plugins":["addcssjs","richquotes","prism","-hightlight","anchors","js-sequence-diagram-full@>=0.3.1","splitter","github","anchor-navigation-ex","expandable-chapters-small","pageview-count","language-picker","hide-element"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism.css"],"lang":{"java":"java"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_bizbundle_android_doc"},"livereload":{},"splitter":{},"search":{},"addcssjs":{"css":[],"js":["../scripts/mermaid.min.js","../scripts/index.js"]},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"pages/ipc/camera_panel.md","mtime":"2020-12-09T01:41:40.545Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-09T01:42:34.203Z"},"basePath":"../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    
    <script type="text/javascript" src="../../../scripts/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../scripts/index.js"></script>
    

    </body>
</html>

